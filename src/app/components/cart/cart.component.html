<div class="p-4 bg-white min-h-screen">
    <h2 class="text-2xl font-bold mb-4 text-gray-800">üõí Your Cart</h2>

    <div *ngIf="cartService.getItems().length === 0" class="text-gray-600">
        Your cart is empty.
    </div>

    <div *ngFor="let item of cartService.getItems()"
        class="border rounded-lg p-4 mb-4 shadow flex items-center justify-between">
        <div>
            <img [src]="item.product.imageUrl" alt="{{ item.product.productName }}"
                class="w-16 h-16 object-cover rounded-lg">
            <h3 class="text-lg font-semibold text-gray-800">{{ item.product.productName }}</h3>
            <p class="text-gray-600">{{ item.product.price | currency }}</p>
            <p class="text-gray-600">Quantity: {{ item.quantity }}</p>
            <p class="text-sm text-gray-500">üè¨ {{ item.product.storeName || 'Unknown Store' }}</p>
        </div>

        <div class="flex space-x-2">
            <button pButton type="button" icon="pi pi-plus" class="p-button-rounded p-button-success"
                (click)="increaseQuantity(item.product.productId)"></button>

            <button pButton type="button" icon="pi pi-minus" class="p-button-rounded p-button-warning"
                (click)="decreaseQuantity(item.product.productId)"></button>

            <button pButton type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger"
                (click)="removeFromCart(item.product.productId)"></button>
        </div>
    </div>

    <button *ngIf="cartService.getItems().length" pButton type="button" label="Clear Cart"
        class="p-button-danger mt-4 w-full" (click)="clearCart()"></button>

    <div class="p-6 flex justify-center">
        <button *ngIf="cartService.getItems().length"
            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" (click)="placeOrder()">
            Place Order
        </button>
        <p-toast></p-toast>
    </div>
</div>