<div class=" min-h-screen py-10 px-4">
    <div class="max-w-4xl mx-auto bg-white rounded-3xl p-8 space-y-6">
        <!-- Empty State -->
        <div *ngIf="cartService.getItems().length === 0" class="text-slate-600 text-center text-lg py-12">
            Your cart is empty.
        </div>

        <!-- Cart Items -->
        <div *ngFor="let item of cartService.getItems()"
            class="bg-slate-50 rounded-xl p-5 shadow-sm hover:shadow-md transition duration-200">
            <div class="flex flex-col md:flex-row items-center gap-4">
                <img [src]="item.product.imageUrl" alt="{{ item.product.productName }}"
                    class="w-20 h-20 object-cover rounded-xl border border-slate-200 shadow-sm" />

                <div class="flex-1 w-full">
                    <div class="flex justify-between items-center w-full">
                        <h3 class="text-xl font-semibold text-slate-800">{{ item.product.productName }}</h3>
                        <span class="text-lg text-blue-600 font-bold">{{ item.product.price | currency }}</span>
                    </div>
                    <p class="text-slate-500">Quantity: {{ item.quantity }}</p>
                    <p class="text-sm text-slate-400 mt-1">üè¨ {{ (item.product.storeLocation || 'Unknown Store')| titlecase }}</p>
                </div>

                <!-- Actions -->
                <div class="flex flex-col gap-2">
                    <button pButton type="button" icon="pi pi-plus"
                        class="p-button-sm p-button-rounded p-button-success"
                        (click)="increaseQuantity(item.product.productId)"></button>

                    <button pButton type="button" icon="pi pi-minus"
                        class="p-button-sm p-button-rounded p-button-warning"
                        (click)="decreaseQuantity(item.product.productId)"></button>

                    <button pButton type="button" icon="pi pi-trash"
                        class="p-button-sm p-button-rounded p-button-danger"
                        (click)="removeFromCart(item.product.productId)"></button>
                </div>
            </div>
        </div>
        <!--coupon field-->
        <div class="mt-6" *ngIf="cartService.getItems().length">
            <label for="coupon" class="block text-sm font-medium text-slate-700">Coupon Code</label>
            <div class="flex items-center mt-2">
                <input id="coupon" type="text" [(ngModel)]="couponCode"
                    class="flex-1 p-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Enter your coupon code" />
            </div>
            <!-- Clear & Place Order Buttons with pButton side by side -->
            <div *ngIf="cartService.getItems().length" class="pt-6 flex flex-col sm:flex-row gap-4 justify-center">
                <button pButton type="button" label="üßπ Clear Cart"
                    class="p-button-danger  p-button-outlined p-button-lg w-full sm:w-auto font-semibold"
                    (click)="clearCart()">
                </button>

                <button pButton type="button" label="‚úÖ Place Order"
                    class="p-button-lg p-button-outlined p-button-primary w-full sm:w-auto font-semibold"
                    (click)="placeOrder()">
                </button>
            </div>


        </div>

        <p-toast></p-toast>
    </div>